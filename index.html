<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <button class="again">Again</button>

    <textarea
      id="inputText"
      rows="10"
      cols="30"
      placeholder="Enter underscore_case variables"
    ></textarea>
    <button id="convertButton">Convert to camelCase</button>
    <script>
      let MarksHeight = 1.69;
      let Marksweight = 78;
      let JohnHeight = 1.95;
      let Johnweight = 92;

      let markBMI = Marksweight / MarksHeight ** 2;
      let johnBMI = Johnweight / JohnHeight ** 2;

      if (markBMI >= johnBMI) {
        console.log(`Mark has a higher BMI than John ${johnBMI}`);
      } else {
        console.log(`John has a higher BMI than Mark ${markBMI}`);
      }

      console.log(markBMI.toFixed());
      console.log(johnBMI.toFixed());

      //   challenge 2

      const calcAverage = (score1, score2, score3) =>
        (score1 + score2 + score3) / 3;

      const dolphinsAverage1 = calcAverage(96, 108, 89);
      const koalasAverage1 = calcAverage(88, 91, 110);

      console.log("Dolphins Average:", dolphinsAverage1);
      console.log("Koalas Average:", koalasAverage1);

      //  Compare scores winner
      const checkWinner = (dolphinsAvg, koalasAvg) => {
        if (dolphinsAvg > koalasAvg) {
          console.log("Dolphins win the trophy!");
        } else if (dolphinsAvg < koalasAvg) {
          console.log("Koalas win the trophy!");
        } else {
          console.log("It's a draw!");
        }
      };

      checkWinner(dolphinsAverage1, koalasAverage1);

      // Bonus 1
      const checkWinnerWithMinScore = (dolphinsAvg, koalasAvg, minScore) => {
        if (dolphinsAvg >= minScore && dolphinsAvg > koalasAvg) {
          console.log("Dolphins win the trophy with minimum score!");
        } else if (koalasAvg >= minScore && koalasAvg > dolphinsAvg) {
          console.log("Koalas win the trophy with minimum score!");
        } else if (
          dolphinsAvg >= minScore &&
          koalasAvg >= minScore &&
          dolphinsAvg === koalasAvg
        ) {
          console.log(" both teams the minimum score!");
        } else {
          console.log(" minimum score not met.");
        }
      };

      // Bonus 1
      const dolphinsAverageBonus1 = calcAverage(97, 112, 101);
      const koalasAverageBonus1 = calcAverage(109, 95, 123);
      console.log("\nBonus 1 Results:");
      checkWinnerWithMinScore(dolphinsAverageBonus1, koalasAverageBonus1, 100);

      // Bonus 2
      const dolphinsAverageBonus2 = calcAverage(97, 112, 101);
      const koalasAverageBonus2 = calcAverage(109, 95, 106);
      console.log("\nBonus 2 Results:");
      checkWinnerWithMinScore(dolphinsAverageBonus2, koalasAverageBonus2, 100);

      //   Coding Challenge #4

      const bill = 275;
      const tip = bill >= 50 && bill <= 300 ? bill * 0.15 : bill * 0.2;

      const total = bill + tip;
      console.log(
        `The bill  ${bill}, the tip  ${tip.toFixed(
          2
        )}, total value ${total.toFixed(2)}`
      );

      //   JavaScript Fundamentals ‚Äì Part 2
      //Coding Challenge #1

      const calcAverages = (score1, score2, score3) =>
        (score1 + score2 + score3) / 3;

      const avgDolphins1 = calcAverages(44, 23, 71);
      const avgKoalas1 = calcAverages(200, 54, 49);

      const avgDolphins2 = calcAverages(85, 54, 41);
      const avgKoalas2 = calcAverages(23, 34, 27);

      const checkWinner1 = (avgDolhinss, avgKoalass) => {
        if (avgDolhinss >= 2 * avgKoalass) {
          console.log(`Dolphins win (${avgDolhinss} vs. ${avgKoalass})`);
        } else if (avgKoalass >= 2 * avgDolhinss) {
          console.log(`Koalas win (${avgKoalass} vs. ${avgDolhinss})`);
        } else {
          console.log("No team wins.");
        }
      };

      checkWinner1(avgDolphins1, avgKoalas1);
      checkWinner1(avgDolphins2, avgKoalas2);

      function CalcTip(bill) {
        let tip1;

        if (bill <= 50) {
          tip1 = bill * 0.15;
        } else if ((bill) => 300) {
          tip1 = bill * 0.2;
        } else {
          tip1 = bill * 0.25;
        }
        return tip;
      }

      const billValue = 100;
      const tip1 = CalcTip(billValue);
      console.log(`The bill of ${billValue} is ${tip1.toFixed()}`);

      // Coding Challenge #3

      const mark = {
        fullName: "Mark Miller",
        mass: 78,
        height: 1.69,
        calcBMI: function () {
          this.bmi = this.mass / (this.height * this.height);
          return this.bmi;
        },
      };

      const john = {
        fullName: "John Smith",
        mass: 92,
        height: 1.95,
        calcBMI: function () {
          this.bmi = this.mass / (this.height * this.height);
          return this.bmi;
        },
      };
      mark.calcBMI();
      john.calcBMI();

      if (mark.bmi > john.bmi) {
        console.log(
          `${mark.fullName}'s BMI (${mark.bmi.toFixed(1)}) is higher than ${
            john.fullName
          }'s (${john.bmi.toFixed(1)})!`
        );
      } else if (john.bmi > mark.bmi) {
        console.log(
          `${john.fullName}'s BMI (${john.bmi.toFixed(1)}) is higher than ${
            mark.fullName
          }'s (${mark.bmi.toFixed(1)})!`
        );
      } else {
        console.log(
          `${mark.fullName} and ${
            john.fullName
          } have the same BMI (${mark.bmi.toFixed(1)})!`
        );
      }

      //   Coding Challenge #4

      function calcTips(bill) {
        return bill >= 50 && bill <= 300 ? bill * 0.15 : bill * 0.2;
      }

      const bills = [22, 295, 176, 440, 37, 105, 10, 1100, 86, 52];
      tipss = [];
      totalss = [];

      for (let i = 0; i < bills.length; i++) {
        const tip = calcTips(bills[i]);
        tipss.push(tip);
        totalss.push(bills[i] + tip);
      }

      console.log("Bills:", bills);
      console.log("Tips:", tipss);
      console.log("Totals:", totalss);

      function calcAverage1(arr) {
        let sum = 0;
        for (let i = 0; i < arr.length; i++) {
          sum += arr[i];
        }
        return sum / arr.length;
      }

      console.log("Average total:", calcAverage1(totalss).toFixed(2));

      //   Developer Skills & Editor Setup
      // Coding Challenge #1

      const temp1 = [17, 21, 23];
      const temp2 = [12, 5, -5, 0, 4];

      function printForecast(arr) {
        let forecastStr = "";
        for (let i = 0; i < arr.length; i++) {
          forecastStr += `${arr[i]}C in ${i + 1} days`;
        }
        console.log(forecastStr + "...");
      }
      printForecast(temp1);
      printForecast(temp2);

      //   JavaScript in the Browser: DOM and Events
      // Coding Challenge #1

      let score = 20;
      let secretNumber = Math.trunc(Math.random() * 20) + 1;

      document.querySelector(".again").addEventListener("click", function () {
        score = 20;

        secretNumber = Math.trunc(Math.random() * 20) + 1;

        console.log("Score is reset to:", score);
        console.log("New secret number is:", secretNumber);
      });

      //   Data Structures, Modern Operators and Strings
      // Coding Challenge #1

      const game = {
        team1: "Bayern Munich",
        team2: "Borussia Dortmund",
        players: [
          [
            "Neuer",
            "Pavard",
            "Martinez",
            "Alaba",
            "Davies",
            "Kimmich",
            "Goretzka",
            "Coman",
            "Muller",
            "Gnarby",
            "Lewandowski",
          ],
          [
            "Burki",
            "Schulz",
            "Hummels",
            "Akanji",
            "Hakimi",
            "Weigl",
            "Witsel",
            "Hazard",
            "Brandt",
            "Sancho",
            "Gotze",
          ],
        ],
        score: "4:0",
        scored: ["Lewandowski", "Gnarby", "Lewandowski", "Hummels"],
        date: "Nov 9th, 2037",
        odds: {
          team1: 1.33,
          x: 3.25,
          team2: 6.5,
        },
      };

      const [players1, players2] = game.players;

      const [gk, ...fieldPlayers] = players1;

      console.log("Goalkeeper:", gk);
      console.log("Field players:", fieldPlayers);

      const allPlayers = [...players1, ...players2];
      console.log("All players:", allPlayers);

      const players1Final = [...players1, "Thiago", "Coutinho", "Perisic"];
      console.log("Final Bayern Munich players :", players1Final);

      const { team1, x: draw, team2 } = game.odds;
      console.log(`Odds Team 1: ${team1}`);
      console.log(`Odds Draw: ${draw}`);
      console.log(`Odds Team 2: ${team2}`);

      function printGoals(...players) {
        console.log(`${players.length} goals were scored.`);
        players.forEach((player) => console.log(player));
      }

      printGoals("Davies", "Muller", "Lewandowski", "Kimmich");
      printGoals(...game.scored);

      team1 < team2 && console.log("Bayern Munich win");
      team2 < team1 && console.log("Borussia Dortmund win");

      //Coding Challenge #2
      game.scored.forEach((player, index) => {
        console.log(`Goal ${index + 1} : ${player}`);
      });

      const odds = Object.values(game.odds);

      let sum = 0;
      for (const odd of odds) {
        sum += odd;
      }

      const AverageOdd = sum / odds.length;
      console.log(`The average odd is : ${AverageOdd}`);

      console.log(`Odd of victory ${game.team1}: ${team1}`);
      console.log(`Odd of draw: ${draw}`);
      console.log(`Odd of victory ${game.team2}: ${team2}`);

      const scorers = {};

      game.scored.forEach((player) => {
        scorers[player] ? scorers[player]++ : (scorers[player] = 1);
      });
      console.log(scorers);

      //   Coding Challenge #3

      const gameEvents = new Map([
        [17, "‚öΩ GOAL"],
        [36, "üîÅ Substitution"],
        [47, "‚öΩ GOAL"],
        [61, "üîÅ Substitution"],
        [64, "üî∂ Yellow card"],
        [69, "üî¥ Red card"],
        [70, "üîÅ Substitution"],
        [72, "üîÅ Substitution"],
        [76, "‚öΩ GOAL"],
        [80, "‚öΩ GOAL"],
        [92, "üî∂ Yellow card"],
      ]);

      const Events = [...new Set(gameEvents.values())];

      console.log(Events);

      gameEvents.delete(64);
      console.log(gameEvents);

      const totalMinutes = 90;
      const numberOfEvents = gameEvents.size;
      const averageEvent = totalMinutes / numberOfEvents;
      console.log(
        `An event happened, on average, every ${Math.round(
          averageEvent
        )} minutes`
      );

      gameEvents.forEach((event, minute) => {
        const half = minute <= 45 ? "First Half" : "Second Half";
        console.log(`[${half}] ${minute} : ${event}`);
      });

      //   Coding Challenge #4

      function toCamelCase(str) {
        const words = str.toLowerCase().trim().split("_");
        const camelCaseWord =
          words[0] +
          words
            .slice(1)
            .map((word) => word[0].toUpperCase() + word.slice(1))
            .join("");
        return camelCaseWord;
      }

      document.querySelector("button").addEventListener("click", function () {
        const inputText = document.querySelector("textarea").value;
        const lines = inputText.split("\n");

        lines.forEach((line, index) => {
          const camelCase = toCamelCase(line);
          const checks = "‚úÖ".repeat(index + 1);
          console.log(`${camelCase} ${checks}`);
        });
      });

      // A Closer Look at Functions
      // Coding Challenge #1

      // const poll = {
      //   question: "What is your favourite programming language?",
      //   options: ["0: JavaScript", "1: Python", "2: Rust", "3: C++"],
      //   answers: new Array(4).fill(0),

      //   // 1.  register  new answer
      //   registerNewAnswer() {
      //     const input = prompt(
      //       `${this.question}\n${this.options.join(
      //         "\n"
      //       )}\n(Write option number)`
      //     );

      //     const answer = Number(input);

      //     if (!isNaN(answer) && answer >= 0 && answer < this.answers.length) {
      //       this.answers[answer]++;

      //       this.displayResults("string");
      //       this.displayResults("array");
      //     } else {
      //       alert("Invalid input. Please enter a valid option number.");
      //     }
      //   },

      //   displayResults(type = "array") {
      //     if (type === "string") {
      //       console.log(`Poll results are ${this.answers.join(", ")}`);
      //     } else if (type === "array") {
      //       console.log(this.answers);
      //     }
      //   },
      // };

      // // 2. registerNewAnswer
      // document
      //   .querySelector(".poll-answer")
      //   .addEventListener("click", function () {
      //     poll.registerNewAnswer();
      //   });

      // // 5. Display test data results
      // const displayTestResults = function (answersArray, type) {
      //   if (type === "string") {
      //     console.log(`Poll results are ${answersArray.join(", ")}`);
      //   } else if (type === "array") {
      //     console.log(answersArray);
      //   }
      // };

      // const data1 = [5, 2, 3];
      // const data2 = [1, 5, 3, 9, 6, 1];

      // displayTestResults(data1, "array");
      // displayTestResults(data1, "string");
      // displayTestResults(data2, "array");
      // displayTestResults(data2, "string");

      // // Coding Challenge #2

      // (function () {
      //   const header = document.querySelector("h1");
      //   header.style.color = "red";

      //   document.body.addEventListener("click", function () {
      //     header.style.color = "blue";
      //   });
      // })();

      // Working With Arrays
      // Coding Challenge #1

      const checkdogs = function (dogsJulia, dogsKate) {
        const dogsJuliaCorrected = dogsJulia.slice();
        dogsJuliaCorrected.splice(0, 1);
        dogsJuliaCorrected.splice(-2);
        console.log(dogsJuliaCorrected);
        const dogs = dogsJuliaCorrected.concat(dogsKate);
        console.log(dogs);

        dogs.forEach(function (dog, i) {
          if (dog >= 3) {
            console.log(
              `Dog Number ${i + 1} is  an adult, and is $(dog) years old`
            );
          } else {
            console.log(`Dog number ${i + 1} is still a puppy`);
          }
        });
      };
      checkdogs([3, 5, 2, 12, 7], [4, 1, 15, 8, 3]);

      // Coding Challenge #2

      const calcAverageHumanAge = function (ages) {
        const humanAges = ages.map((age) =>
          age <= 2 ? 2 * age : 16 + age * 4
        );
        const adults = humanAges.filter((age) => age >= 18);
        console.log(adults);

        console.log(humanAges);

        const average =
          adults.reduce((acc, age) => acc + age, 0) / adults.length;
        return average;
      };
      const avg1 = calcAverageHumanAge([3, 5, 2, 12, 7]);
      const avg2 = calcAverageHumanAge([4, 1, 15, 8, 3]);
      console.log(avg1, avg2);

      // Coding Challenge #4

      const dogs = [
        { weight: 22, curFood: 250, owners: ["Alice", "Bob"] },
        { weight: 8, curFood: 200, owners: ["Matilda"] },
        { weight: 13, curFood: 275, owners: ["Sarah", "John"] },
        { weight: 32, curFood: 340, owners: ["Michael"] },
      ];

      dogs.forEach(
        (dog) => (dog.recFood = Math.trunc(dog.weight ** 0.75 * 28))
      );
      console.log(dogs);

      // 2
      const dogsarah = dogs.find((dog) => dog.owners.includes("Sarah"));
      console.log(dogsarah);
      console.log(
        `Sarah's dog is eating too ${
          dogsarah.curFood > dogsarah.recFood ? "much" : "little"
        }`
      );

      //3

      const ownersEatTooMuch = dogs
        .filter((dog) => dog.curFood > dog.recFood)
        .flatMap((dog) => dog.owners);
      console.log(ownersEatTooMuch);

      const ownersEatTooLittle = dogs
        .filter((dog) => dog.curFood > dog.recFood)
        .flatMap((dog) => dog.owners);
      console.log(ownersEatTooLittle);

      // 4

      console.log(`${ownersEatTooMuch.join("and")}'s dogs eat too much`);
      console.log(`${ownersEatTooLittle.join("and")}'s dogs eat too little`);

      // 5
      console.log(dogs.some((dog) => dog.curFood === dog.recFood));

      // 6

      const checkEatingOkay = (dog) =>
        dog.curFood > dog.recFood * 0.9 && dog.curFood < dog.recFood * 1.1;
      console.log(dogs.some(checkEatingOkay));

      // 7

      console.log(dogs.filter(checkEatingOkay));

      // 8
      const dogsSorted = dogs.slice().sort((a, b) => a.recFood - b.recFood);
      console.log(dogsSorted);
    </script>
  </body>
</html>
